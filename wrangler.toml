name = "wedding-gallery"
main = "worker.js"
compatibility_date = "2024-01-01"

workers_dev = true
preview_urls = true

# Routes (for Cloudflare Pages integration)
# If deploying as a Worker, you can also use routes here
routes = [
  { pattern = "wedding-gallery.zaidhuda.com/admin/*", zone_name = "zaidhuda.com" },
  { pattern = "wedding-gallery.zaidhuda.com/api/*", zone_name = "zaidhuda.com" },
]

# Environment variables (optional)
[vars]
# ENVIRONMENT = "development"
# PHOTO_BASE_URL = "http://localhost:8787/images"
ENVIRONMENT = "production"
PHOTO_BASE_URL = "https://photos.wedding-gallery.zaidhuda.com"

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "muna-li-zaid-gallery-db"
database_id = "899716a4-be80-4654-9ecf-a01e5ec192f5"

# R2 Bucket binding
[[r2_buckets]]
binding = "PHOTOS_BUCKET"
bucket_name = "muna-li-zaid-photos"

# Workers AI binding for content moderation
[ai]
binding = "AI"

[observability]
[observability.logs]
enabled = true
invocation_logs = true
